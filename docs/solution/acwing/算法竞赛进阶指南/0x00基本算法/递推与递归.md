# 递推与递归

## 递归实现指数型枚举

### 解法一：递归 数组枚举

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/递归实现指数型枚举1.cpp

### 解法二：递归 二进制枚举

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/递归实现指数型枚举2.cpp

### 解法三：迭代 二进制枚举

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/递归实现指数型枚举3.cpp

## 递归实现组合型枚举

### 解法一：递归 数组枚举

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/递归实现组合型枚举1.cpp

### 解法二：递归 二进制枚举

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/递归实现组合型枚举2.cpp

## 递归实现排列型枚举

### 解法一：递归 数组枚举

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/递归实现排列型枚举1.cpp

### 解法二：递归 二进制枚举

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/递归实现排列型枚举2.cpp

## 费解的开关

### 解法一: BFS + 状态压缩

从全为 `1` 的状态开始，BFS 搜索6步以内的所有状态；

通过将 $5\times 5$ 的 $0,1$ 矩阵转化为 25 位二进制数进行状态压缩；

计算输入初始状态的二进制值，查表；

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/费解的开关1.cpp

**复杂度分析**

- 时间复杂度 $O({25}^5*5*n)$，其中枚举 $25$ 个位置的状态 $5$ 轮（存在重复的情况，实际远小于此，共 $244582$ 种状态），每次操作需修改 $5$ 个位置，$n$ 是测试数据量。
- 空间复杂度 $O({25}^5)$，通过输出得队列中元素最多为 $176241$ 个，`map` 中最终状态 $244582$ 个。

#### 解法二：位运算枚举 + 递推

首先这种 `0` 和 `1` 转换的问题有两点明确：

1. 每个位置只会有一次转换操作，因为如果两次操作则回到原来的状态（无意义），三次操作结果与第一次相同；
2. 一组满足要求的操作序列具有无序性，即操作序列中的任意两个操作，谁先谁后结果都相同。

根据上面两条原则，可以通过递推的方式求解。

当第一行的某一列为 `0` 时，只能通过操作下一行的同一列使其变为 `1`，如果通过改变当前位置则会影响到其他方向上的状态；即 `g[i][j] == '0'` 时，需要改变 `g[i + 1][j]` 使其变为 `1`， 以此类推。

故需要确定第一行的状态，然后递推第二行、第三行和第四行，此时第五行的状态已被确定，故判断第五行是否全为 `1`，即可确定是否可以通过初始状态改变到全为 `1` 的状态。

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/费解的开关2.cpp

**复杂度分析**

- 时间复杂度 $O(2^5*20*5*n)$，其中第一行的初始状态共 $2^5$ 种，前四行共 $20$ 种可能的操作，每次操作需修改 $5$ 个位置，$n$ 是测试数据量。
- 空间复杂度 $O(1)$，保存初始状态的数组为 $5*5$，忽略不计。

## 奇怪的汉诺塔

经典的汉诺塔为n盘3塔问题，$d[n]$ 表示n盘3塔的最小步数；

- 首先把前 n-1 个盘子从 A 柱移动到 B 柱上；
- 然后把 A 柱剩余的一个盘子移到 C 柱上；
- 最后把 B 柱的 n-1 个盘子移动到 C 柱上。
递推公式：$d[n]=2*d[n-1]+1，d[1]=1，n>1$

对于n盘4塔问题，$f[n]$ 表示n盘4塔的最小步数；

- 首先把 i 个盘子在 4 柱情况下从 A 柱移动到 B 柱上；
- 然后把 A 柱剩余的 n-i 个盘子在 3 柱的情况下移动到 D 柱上（无法覆盖 B 柱，所以相当于求解 3 塔问题）；
- 最后把 B 柱的 i 个盘子在 4 柱情况下移动到 D 柱上。

考虑所有的 i 的可能，求最小值。
递推公式：$f[n]=min_{0≤i<n}(2f[i]+d[n-i])$

<<< @/docs/solution/acwing/算法竞赛进阶指南/0x00基本算法/src/递推与递归/奇怪的汉诺塔.cpp

## [约数之和](https://www.acwing.com/problem/content/99/)


## 分形之城
