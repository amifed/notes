# 位运算

| 运算符             | 用法      | 描述                                                         |
| :---------- | :-------------- | :------------------------------------------ |
| 按位与（ AND）<img width=75/>     | `a & b`<img width=60/>   | 对于每一个比特位，只有两个操作数相应的比特位都是1时，结果才为1，否则为0。 |
| 按位或（OR）       | `a | b`   | 对于每一个比特位，当两个操作数相应的比特位至少有一个1时，结果为1，否则为0。 |
| 按位异或（XOR）    | `a ^ b`   | 对于每一个比特位，当两个操作数相应的比特位有且只有一个1时，结果为1，否则为0。 |
| 按位非（NOT）      | `~ a`     | 反转操作数的比特位，即0变成1，1变成0。                       |
| 左移（Left shift） | `a << b`  | 将 `a` 的二进制形式向左移 `b` (< 32) 比特位，右边用0填充。   |
| 有符号右移         | `a >> b`  | 将 a 的二进制表示向右移` b `(< 32) 位，丢弃被移出的位。      |
| 无符号右移         | `a >>> b` | 将 a 的二进制表示向右移` b `(< 32) 位，丢弃被移出的位，并使用 0 在左侧填充。 |


## 枚举二进制子集

针对二进制中为 `1` 的位做减法，

```
例如 k = 10101，子集为：
10101
10100
10001
10000
00101 
00100
00001
00000
```

**参考代码**
```cpp
int sub = k;
do {
  sub = (sub - 1) & k;
} while (sub != k);
```

**相关题目：**[LeetCode 1178. 猜字谜](https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/)

## 二进制状态压缩

指将一个长度为 $m$ 的 `bool` 数组用一个 $m$ 位二进制整数表示并存储的方法。

下列位运算操作实现原 `bool` 数组中对应下标元素的存取：

| 操作           | 运算    |
| :---------- | :-------------- |
| 取出整数 $n$ 在二进制表示下的第 $k$ 位 | `(n >> k) & 1​` |
| 取出整数 $n$ 在二进制表示下的第 $0 \sim k-1$ 位（后 $k$ 位） | `n & ((1 << k) - 1)` |
| 把整数 $n$ 在二进制表示下的第 $k$ 位取反 | `n ^ (1 << k)` |
| 对整数 $n$ 在二进制表示下的第 $k$ 位赋值 $1$ | `n | (1 << k)` |
| 对整数 $n$ 在二进制表示下的第 $k$ 位赋值 $0$ | `n & (~(1 << k))` |

> 当 m 较大时，可使用 C++ STL 中的 bitset 实现。

**相关题目：**

- [最短Hamilton路径](https://www.acwing.com/problem/content/93/)
- [LeetCode 1349. 参加考试的最大学生数](https://leetcode-cn.com/problems/maximum-students-taking-exam/)

